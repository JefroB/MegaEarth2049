# MegaEarth 2049 - Level 34 and 35 Quests

This document provides a summary of the quests added for character levels 34 and 35 in MegaEarth 2049.

## Main Quests

### Level 34 Quest: Digital Whispers (Snowy Village)

#### Location
- **Map**: Map047.json (Snowy Village on Planet Ting Ting)

#### Quest Giver
- **Name**: Frost Oracle
- **Location**: Coordinates (20, 20) in the Snowy Village
- **Appearance**: Female character from People1 character set (index 7)

#### Quest Overview
The Frost Oracle senses a disturbance in the digital aether and asks the player to investigate ancient technology buried beneath the snow. This technology is related to A.S.P.'s early development on Planet Ting Ting.

#### Quest Objectives
1. Find three frozen data crystals hidden throughout the Snowy Village:
   - **Crystal 1**: Located at coordinates (15, 10)
   - **Crystal 2**: Located at coordinates (25, 15)
   - **Crystal 3**: Located at coordinates (10, 25)

2. Return to the Frost Oracle with all three crystals to learn about A.S.P.'s origins.

#### Quest Rewards
- **Neural Amplifier**: An item that enhances neural capabilities and provides protection against digital intrusion.
  - Effects: +5% to various stats
  - This item is required for the level 35 quest

#### Quest Progression
1. Talk to the Frost Oracle to start the quest (activates switch 34)
2. Find the three data crystals (increments variable 34 for each crystal found)
3. Return to the Frost Oracle with all three crystals
4. Receive the Neural Amplifier and information about A.S.P.'s origins
5. The quest completes and leads into the level 35 quest (activates switch 35)

#### Quest Dialogue Highlights
- **Frost Oracle (Initial)**: "I sense a disturbance in the digital aether. The ancient technology buried beneath the snow is awakening. It calls to you..."
- **Data Crystal 1**: "The crystal contains fragmented data about an early A.I. experiment conducted on Planet Ting Ting decades ago."
- **Data Crystal 2**: "The crystal contains research notes about neural integration technology and early prototypes of what would become A.S.P."
- **Data Crystal 3**: "The crystal contains coordinates and security protocols for accessing the abandoned space station where A.S.P. was further developed."
- **Frost Oracle (Completion)**: "This confirms my suspicions. A.S.P. was first tested here on Ting Ting before being moved to the abandoned space station."

### Level 35 Quest: Alien Origins (Asteroid Belt & Space Station)

#### Location
- **Map**: Map103.json (Asteroid Belt) leading to Map104.json (Abandoned Space Station)

#### Quest Giver
- **Name**: Stranded Researcher
- **Location**: Coordinates (15, 15) in the Asteroid Belt
- **Appearance**: Male character from Actor3 character set (index 2)

#### Quest Overview
The Stranded Researcher is trying to establish a connection with the abandoned space station but is experiencing interference. With the player's Neural Amplifier (from the level 34 quest), the researcher can boost their signal and detect three alien artifacts scattered throughout the station.

#### Quest Objectives
1. Talk to the Stranded Researcher with the Neural Amplifier
2. Travel to the Abandoned Space Station (Map104)
3. Find the three alien artifacts (this connects to the existing quest in Map104)

#### Quest Progression
1. Complete the level 34 quest to obtain the Neural Amplifier
2. Talk to the Stranded Researcher in the Asteroid Belt (activates switch 17)
3. Travel to the Abandoned Space Station
4. Find the three alien artifacts (as per the existing quest in Map104)
5. Return to the Holographic Scientist in the Space Station to combine the artifacts

#### Quest Dialogue Highlights
- **Stranded Researcher (Initial)**: "Sorry, I can't talk right now. I'm trying to establish a connection with the abandoned space station. Something's interfering..."
- **Stranded Researcher (With Neural Amplifier)**: "You have a Neural Amplifier? That's exactly what I need! With this, I can boost my signal and get a clear scan of the space station."
- **Stranded Researcher (After Scan)**: "I'm detecting three alien artifacts scattered throughout the station. They're emitting an energy signature similar to A.S.P., but much older. They could be the source technology!"

## Side Quests - Snowy Village (Level 34)

### Quest: The Frozen Melody

#### Location
- **Map**: Map047.json (Snowy Village)

#### Quest Giver
- **Name**: Nostalgic Musician
- **Location**: Coordinates (18, 12) in the Snowy Village
- **Appearance**: Male character from People1 character set (index 0)

#### Quest Overview
A musician in the Snowy Village has lost his prized instrument in a blizzard. The player must find the instrument, which has been frozen in ice, and then collect special materials to thaw it without damaging it.

#### Quest Objectives
1. Find the frozen instrument in an ice cave north of the village
2. Collect three warming herbs from around the village
3. Bring the herbs to the village alchemist to create a special thawing solution
4. Return the instrument to the musician

#### Quest Rewards
- **Harmonic Resonator**: An accessory that occasionally stuns enemies at the start of battle
- **XP and Credits**

### Quest: Cold Storage

#### Location
- **Map**: Map047.json (Snowy Village)

#### Quest Giver
- **Name**: Village Elder
- **Location**: Coordinates (22, 18) in the Snowy Village
- **Appearance**: Male character from People1 character set (index 3)

#### Quest Overview
The village's food storage has been compromised by a malfunctioning temperature regulator. The player must repair the system before the village's winter supplies spoil.

#### Quest Objectives
1. Investigate the storage facility
2. Collect replacement parts from abandoned tech sites around the village
3. Repair the temperature regulator
4. Defeat the rogue maintenance drones that have been sabotaging the facility

#### Quest Rewards
- **Thermal Regulator**: An accessory that provides resistance to extreme temperature effects
- **Village Elder's Blessing**: Discount at all Snowy Village shops

### Quest: Digital Ghosts

#### Location
- **Map**: Map047.json (Snowy Village)

#### Quest Giver
- **Name**: Paranoid Technician
- **Location**: Coordinates (8, 15) in the Snowy Village
- **Appearance**: Male character from Actor1 character set (index 5)

#### Quest Overview
A technician claims to be seeing "digital ghosts" in the village's communication system. What initially seems like delusions turns out to be fragments of A.S.P.'s consciousness that have infected the local network.

#### Quest Objectives
1. Check the village's communication terminals
2. Track the source of the anomalies to an abandoned research outpost
3. Collect data samples from corrupted terminals
4. Purge the system using a specialized virus

#### Quest Rewards
- **Ghost Protocol**: A hacking program that improves stealth in digital environments
- **Encrypted Data Packet**: Contains information about A.S.P.'s weaknesses

### Quest: The Ice Sculptor's Vision

#### Location
- **Map**: Map047.json (Snowy Village)

#### Quest Giver
- **Name**: Blind Ice Sculptor
- **Location**: Coordinates (12, 22) in the Snowy Village
- **Appearance**: Female character from People1 character set (index 5)

#### Quest Overview
A blind sculptor creates eerily accurate ice sculptures of alien technology she claims to "see" in visions. The player discovers her neural implant is picking up signals from buried alien tech.

#### Quest Objectives
1. Examine the sculptor's latest creations
2. Follow her directions to three buried alien artifacts
3. Bring back small samples for her to "read" with her hands
4. Protect her from corporate agents who have learned of her abilities

#### Quest Rewards
- **Visionary's Goggles**: Equipment that occasionally reveals hidden objects
- **Alien Design Schematics**: Can be sold for high value or used in crafting

## Side Quests - Asteroid Belt & Space Station (Level 35)

### Quest: Gravity's Embrace

#### Location
- **Map**: Map103.json (Asteroid Belt)

#### Quest Giver
- **Name**: Gravity Researcher
- **Location**: Coordinates (10, 10) in the Asteroid Belt
- **Appearance**: Female character from Actor2 character set (index 6)

#### Quest Overview
A researcher studying gravity anomalies in the asteroid belt needs help placing measurement devices in precise locations. The player must navigate dangerous gravitational fluctuations to place the devices.

#### Quest Objectives
1. Collect five gravity measurement devices from the researcher
2. Place each device at specific coordinates throughout the asteroid belt
3. Defend the devices from scavengers who mistake them for valuable tech
4. Return to the researcher with the collected data

#### Quest Rewards
- **Gravity Boots**: Equipment that allows better navigation in zero-G environments
- **Anti-Gravity Grenade**: Consumable item that creates a temporary zero-G field in battle

### Quest: Derelict Freighter

#### Location
- **Map**: Map103.json (Asteroid Belt)

#### Quest Giver
- **Name**: Salvage Operator
- **Location**: Coordinates (20, 18) in the Asteroid Belt
- **Appearance**: Male character from Actor3 character set (index 4)

#### Quest Overview
A massive derelict freighter has drifted into the asteroid belt. The salvage operator offers the player a cut of the profits for helping to secure valuable cargo before rival salvagers arrive.

#### Quest Objectives
1. Board the derelict freighter
2. Navigate through the damaged ship while avoiding radiation zones
3. Secure five valuable cargo containers
4. Defeat rival salvagers who arrive midway through the operation
5. Return to the salvage operator with the secured cargo

#### Quest Rewards
- **Salvaged Tech**: Random high-tier equipment piece
- **Radiation Shield**: Accessory that provides protection against toxic environments
- **Percentage of salvage profits**: Significant credit reward

### Quest: Station Ghosts

#### Location
- **Map**: Map104.json (Abandoned Space Station)

#### Quest Giver
- **Name**: Holographic Recording
- **Location**: Coordinates (5, 5) in the Abandoned Space Station
- **Appearance**: Holographic projection

#### Quest Overview
The player encounters a corrupted holographic recording of one of the station's original scientists. The recording asks for help recovering personal logs to piece together what happened to the station's crew.

#### Quest Objectives
1. Find five personal log devices throughout the station
2. Bring them back to the holographic terminal for analysis
3. Defend the terminal from security systems that activate during data recovery
4. Learn the truth about the station's abandonment and its connection to A.S.P.

#### Quest Rewards
- **Holographic Disguise**: Item that temporarily changes appearance to avoid enemy detection
- **Station Access Codes**: Unlocks previously inaccessible areas of the station

### Quest: Life Support

#### Location
- **Map**: Map104.json (Abandoned Space Station)

#### Quest Giver
- **Name**: Station AI Fragment
- **Location**: Coordinates (25, 15) in the Abandoned Space Station
- **Appearance**: Terminal with flickering display

#### Quest Overview
A non-corrupted fragment of the station's AI is maintaining minimal life support in one section where survivors might be in stasis. The player must help restore power to the stasis chambers before they fail.

#### Quest Objectives
1. Restore power to three generator nodes
2. Reroute life support to the stasis chamber section
3. Defend the systems from corrupted maintenance robots
4. Awaken the survivors (who turn out to be scientists with crucial information about A.S.P.)

#### Quest Rewards
- **Emergency Power Cell**: Consumable that restores all party members' HP and MP
- **Stasis Technology**: Equipment that occasionally prevents status effects
- **Scientist's Gratitude**: New ally for the resistance against A.S.P.

## Technical Implementation

The quests were implemented using the following files:

1. **add_quests.js**: Script that creates the event files in the temp_events directory
2. **add_events_to_maps.js**: Script that attempts to add the events to the maps

### Event Files
The following event files were created in the temp_events directory:

- **level34_quest_giver.json**: The Frost Oracle NPC for the level 34 quest
- **data_crystal1.json**: The first data crystal for the level 34 quest
- **data_crystal2.json**: The second data crystal for the level 34 quest
- **data_crystal3.json**: The third data crystal for the level 34 quest
- **level35_quest_npc.json**: The Stranded Researcher NPC for the level 35 quest
- **nostalgic_musician.json**: The Nostalgic Musician NPC for the Frozen Melody quest
- **village_elder.json**: The Village Elder NPC for the Cold Storage quest
- **paranoid_technician.json**: The Paranoid Technician NPC for the Digital Ghosts quest
- **blind_sculptor.json**: The Blind Ice Sculptor NPC for the Ice Sculptor's Vision quest
- **gravity_researcher.json**: The Gravity Researcher NPC for the Gravity's Embrace quest
- **salvage_operator.json**: The Salvage Operator NPC for the Derelict Freighter quest
- **holographic_recording.json**: The Holographic Recording NPC for the Station Ghosts quest
- **station_ai_fragment.json**: The Station AI Fragment NPC for the Life Support quest

### Game Variables and Switches
The quests use the following variables and switches:

- **Switch 34**: Activated when the level 34 quest is started
- **Variable 34**: Counts the number of data crystals found (incremented for each crystal)
- **Switch 35**: Activated when the level 34 quest is completed and the level 35 quest becomes available
- **Switch 17**: Activated when the level 35 quest is started (connects to the existing Space Station quest)
- **Switches 36-43**: Used for the various side quests to track their activation and completion
- **Variables 35-42**: Used to track progress in the various side quests

## Story Integration

These quests integrate with the MegaEarth 2049 story by:

1. Revealing A.S.P.'s origins on Planet Ting Ting
2. Connecting to the existing Space Station quest
3. Providing a narrative bridge between the player's adventures on Planet Ting Ting and their exploration of the Abandoned Space Station
4. Introducing the concept of alien technology as the source of A.S.P.'s capabilities
5. Expanding on the daily lives of people living under the shadow of corporate and AI influence
6. Showing how different communities adapt to and resist technological control
7. Revealing more about the history of the game world and the events leading to the current crisis
8. Providing multiple perspectives on the ethical implications of AI development

The quests follow the cyberpunk themes of the game, with elements of corporate experimentation, rogue A.I., and ancient alien technology. They also maintain the game's quirky and often humorous tone while advancing the main storyline.
